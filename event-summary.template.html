<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>今野さんの亡霊（抽出イベントまとめ）</title>
  <style>
    :root {
      --bg: #f4f1ea;
      --paper: #fffdf8;
      --ink: #202020;
      --muted: #6d675d;
      --line: #d8d1c4;
      --accent: #8a5a00;
      --accent-soft: #f4e6c8;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Hiragino Sans", "Yu Gothic", sans-serif;
      color: var(--ink);
      background:
        radial-gradient(circle at 10% 10%, #efe6d4 0, #efe6d400 35%),
        radial-gradient(circle at 95% 0%, #eadfcb 0, #eadfcb00 28%),
        var(--bg);
      line-height: 1.5;
    }
    .wrap {
      max-width: 1100px;
      margin: 0 auto;
      padding: 24px 16px 48px;
    }
    header {
      margin-bottom: 20px;
      padding: 16px 18px;
      background: var(--paper);
      border: 1px solid var(--line);
      border-radius: 12px;
    }
    h1 {
      margin: 0 0 6px;
      font-size: 24px;
    }
    .subhead {
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 4px;
    }
    .meta {
      color: var(--muted);
      font-size: 14px;
    }
    .site-block {
      margin-top: 18px;
    }
    .site-block h2 {
      margin: 0 0 10px;
      font-size: 18px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 14px;
    }
    .card {
      background: var(--paper);
      border: 1px solid var(--line);
      border-radius: 12px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    .flyer {
      background: #f0ece4;
      border-bottom: 1px solid var(--line);
      min-height: 210px;
      display: grid;
      place-items: center;
      padding: 10px;
    }
    .flyer img {
      max-width: 100%;
      max-height: 360px;
      height: auto;
      display: block;
      border-radius: 8px;
      box-shadow: 0 4px 14px rgba(0,0,0,.12);
    }
    .flyer.none {
      color: var(--muted);
      font-weight: 600;
    }
    .body {
      padding: 14px;
    }
    .title {
      margin: 0 0 8px;
      font-size: 17px;
      line-height: 1.35;
    }
    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
    }
    .chip {
      font-size: 12px;
      color: #5a4930;
      background: var(--accent-soft);
      border: 1px solid #e5cfa0;
      border-radius: 999px;
      padding: 2px 8px;
    }
    dl {
      margin: 0;
      display: grid;
      grid-template-columns: 88px 1fr;
      gap: 6px 8px;
      font-size: 14px;
    }
    dt {
      color: var(--muted);
      margin: 0;
    }
    dd {
      margin: 0;
      word-break: break-word;
    }
    a {
      color: #0f4a8a;
      text-decoration: none;
    }
    a:hover { text-decoration: underline; }
    .links {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .btn {
      border: 1px solid var(--line);
      border-radius: 8px;
      padding: 6px 10px;
      background: #fff;
      font-size: 13px;
    }
    .btn.gcal {
      background: #f5fbff;
      border-color: #b7d8ee;
      color: #0b5a8f;
      font-weight: 700;
    }
    .note {
      margin-top: 18px;
      padding: 12px 14px;
      background: #fff;
      border: 1px dashed var(--line);
      border-radius: 10px;
      color: var(--muted);
      font-size: 13px;
    }
    @media (max-width: 640px) {
      dl { grid-template-columns: 78px 1fr; }
      .flyer { min-height: 180px; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- EDIT: page title and date -->
    <header>
      <h1>今野さんの亡霊</h1>
      <div class="subhead">（抽出イベントまとめ）</div>
      <div class="meta">作成日 : YYYY-MM-DD</div>
    </header>

    <!--
      EDIT RULES (daily diff update):
      1) Duplicate a .site-block per source site.
      2) Duplicate a .card per event.
      3) Time format must be HH:MM (e.g. 16:15).
      4) If flyer is missing, use <div class="flyer none">フライヤーなし（掲載なし）</div>
      5) Save final publishable file as event-summary.html (or copy to index.html for Pages).
    -->

    <!-- SITE BLOCK START -->
    <section class="site-block">
      <h2>サイト名（対象日）</h2>
      <div class="grid">
        <article class="card">
          <div class="flyer">
            <img src="https://example.com/flyer.jpg" alt="公演名 フライヤー">
          </div>
          <div class="body">
            <h3 class="title">公演名</h3>
            <div class="chips">
              <span class="chip">サイト名</span>
              <span class="chip">YYYY/MM/DD</span>
            </div>
            <dl>
              <dt>日時</dt><dd>YYYY年M月D日（曜日）</dd>
              <dt>会場</dt><dd>会場名</dd>
              <dt>開場</dt><dd>16:15</dd>
              <dt>開演</dt><dd>17:00</dd>
              <dt>終演</dt><dd>19:30（予定）</dd>
              <dt>URL</dt><dd><a href="https://example.com/event" target="_blank" rel="noopener">詳細ページ</a></dd>
            </dl>
            <div class="links">
              <a class="btn gcal gcal-btn"
                 href="#"
                 data-title="公演名"
                 data-date="YYYY-MM-DD"
                 data-start="17:00"
                 data-end="19:30"
                 data-location="会場名"
                 data-url="https://example.com/event">Googleカレンダーに追加</a>
              <a class="btn" href="https://example.com/flyer.pdf" target="_blank" rel="noopener">チラシPDF</a>
            </div>
          </div>
        </article>
      </div>
    </section>
    <!-- SITE BLOCK END -->

  </div>
  <script>
    (function () {
      function buildDateTime(dateStr, timeStr) {
        return dateStr.replace(/-/g, "") + "T" + timeStr.replace(":", "") + "00";
      }

      document.querySelectorAll(".gcal-btn").forEach(function (btn) {
        var date = btn.dataset.date;
        var start = btn.dataset.start;
        var end = btn.dataset.end;
        if (!date || !start || !end || date === "YYYY-MM-DD") return;

        var title = btn.dataset.title || "";
        var location = btn.dataset.location || "";
        var url = btn.dataset.url || "";
        var details = url ? ("詳細: " + url) : "";

        var params = new URLSearchParams({
          action: "TEMPLATE",
          text: title,
          dates: buildDateTime(date, start) + "/" + buildDateTime(date, end),
          ctz: "Asia/Tokyo",
          location: location,
          details: details
        });

        btn.href = "https://calendar.google.com/calendar/render?" + params.toString();
        btn.target = "_blank";
        btn.rel = "noopener";
      });
    })();
  </script>
</body>
</html>
